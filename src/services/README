# src/services

Ce dossier regroupe **tous les services applicatifs** de CassKai, câ€™est-Ã -dire les modules chargÃ©s deâ€¯:

- Faire le lien entre lâ€™application et la base de donnÃ©es (CRUD, requÃªtes Supabase)
- Encapsuler la logique de gestion â€œmÃ©tierâ€ cÃ´tÃ© client (validation, helpers, gÃ©nÃ©ration de donnÃ©es)
- Centraliser les appels et opÃ©rations rÃ©utilisables au sein de lâ€™app

---

## ğŸ“ Structure recommandÃ©e

- **Un fichier/service par grande entitÃ©** mÃ©tier ou domaine fonctionnelâ€¯:
  - `accountsService.*`â€¯: gestion CRUD des comptes comptables (table `accounts`)
  - `accountingService.*`â€¯: logique mÃ©tier sur le plan comptable, hiÃ©rarchie, validation de comptes (pas dâ€™accÃ¨s DB)
  - `journalsService.*`â€¯: gestion CRUD des journaux comptables (table `journals`)
  - `journalEntryService.*`â€¯: gestion CRUD des Ã©critures comptables (table `journal_entries`, `journal_entry_items`)
  - `thirdPartiesService.*`â€¯: gestion des tiers (clients, fournisseurs)
  - `currencyService.*` et `currencyIntegration.*`â€¯: gestion des devises, taux, conversions
  - `configService.*`â€¯: gestion de la configuration globale de lâ€™application
  - `licenseService.*`â€¯: gestion des offres et licences
  - `migrationService.*`â€¯: gestion des migrations et initialisation de la base
  - etc.

---

## ğŸ’¡ Bonnes pratiques

- **Pas de logique de prÃ©sentation/UI** dans ces fichiersâ€¯: uniquement accÃ¨s data + logique mÃ©tier rÃ©utilisable.
- **Un service = un rÃ´le bien dÃ©fini** (Ã©vitez les gros â€œfourre-toutâ€).
- **Nommez clairement**â€¯: prÃ©fÃ©rez le singulier/pluriel selon le mÃ©tier (â€œaccountsServiceâ€, â€œjournalsServiceâ€).
- **Documentez chaque fichier** en haut du fichier (but, entitÃ©s manipulÃ©es).
- Si besoin de helpers purs, prÃ©fÃ©rez les mettre dans `src/lib/` ou `src/utils/`.

---

## ğŸ§¹ Nettoyage & maintenance

- **Supprimez les doublons**â€¯: gardez un seul service par type dâ€™entitÃ©/mÃ©tier.
- **Fusionnez les anciens services gÃ©nÃ©rÃ©s automatiquement** si leur rÃ´le se recoupe.
- **Gardez Ã  jour ce README** si vous ajoutez un nouveau service important.

---

## Exemple de documentation Ã  mettre en dÃ©but de fichier

```js
// Service de gestion des journaux comptables (table `journals`)
// CRUD, activation/dÃ©sactivation, duplication, stats, listing
```
ou
```js
// Service de gestion des Ã©critures comptables (table `journal_entries` + `journal_entry_items`)
// CrÃ©ation, mise Ã  jour, suppression, duplication, filtres, stats, validation Ã©quilibrage
```

---

## Questionsâ€¯?  
Pour toute question sur lâ€™organisation ou le rÃ´le dâ€™un service, contactez lâ€™Ã©quipe technique ou consultez la documentation mÃ©tier.
