=================================================================
  PROC√âDURE CANONIQUE DE D√âPLOIEMENT (AI‚ÄëFriendly)
=================================================================

üìã Utiliser ces commandes comme point d'entr√©e standard

Windows (PowerShell):
  npm run build
  .\deploy-vps.ps1

Linux/Mac (Bash):
  npm run build
  ./scripts/deploy.sh

API backend (si changements dans backend/):
  Windows: .\deploy-backend.ps1
  Linux/Mac: ./deploy-backend.sh

Variables (optionnel):
  Copier [ .env.deploy.example ] en .env.deploy et ajuster VPS_HOST/VPS_USER/chemins.

=================================================================
√âTAPE 1: V√âRIFIER L'√âTAT (optionnel)
=================================================================

git status
git log -1

=================================================================
√âTAPE 2: PUSH VERS GIT (optionnel)
=================================================================

git push origin phase1-clean

=================================================================
√âTAPE 3: D√âPLOYER SUR VPS (RECOMMAND√â)
=================================================================

.\deploy-vps.ps1

=================================================================
OU D√âPLOIEMENT MANUEL (alternative)
=================================================================

# 1. Build local
npm run build

# 2. Se connecter au VPS
ssh root@89.116.111.88

# 3. Sur le VPS, mettre √† jour le contenu
scp -r dist/* root@89.116.111.88:/var/www/casskai.app/

# 4. Corriger permissions
ssh root@89.116.111.88 "chown -R www-data:www-data /var/www/casskai.app && chmod -R 755 /var/www/casskai.app"

# 5. Recharger Nginx (container si pr√©sent)
ssh root@89.116.111.88 "docker exec casskai-proxy nginx -s reload 2>/dev/null || docker restart casskai-proxy || true"

# 8. V√©rifier que c'est OK
curl -I https://casskai.app

=================================================================
√âTAPE 4: V√âRIFIER LE D√âPLOIEMENT
=================================================================

# Ouvrir dans le navigateur
https://casskai.app

# Tu devrais voir:
‚úÖ Nouvelle sidebar avec emojis üí∞ü§ù‚öôÔ∏èüìä
‚úÖ Design glassmorphism (effet flou)
‚úÖ Fond d√©grad√© gris clair
‚úÖ Zones arrondies (rounded-3xl)

=================================================================
TESTS RAPIDES √Ä FAIRE
=================================================================

1. Cliquer sur section "Finances" ‚Üí doit se d√©plier
2. Survoler un module ‚Üí ic√¥ne pin appara√Æt
3. Cliquer sur pin ‚Üí module dans "√âpingl√©s"
4. Taper dans recherche ‚Üí filtrage fonctionne
5. Cliquer sur "Comptabilit√©" ‚Üí page s'ouvre
6. R√©duire fen√™tre < 768px ‚Üí sidebar devient mobile

=================================================================
SI PROBL√àME: ROLLBACK RAPIDE
=================================================================

# Revenir √† la version pr√©c√©dente
git reset --hard HEAD~1
git push origin phase1-clean --force

# Puis red√©ployer
.\deploy-vps.ps1

=================================================================
COMMANDES DE DEBUG (si n√©cessaire)
=================================================================

# Logs Traefik / Nginx container
ssh root@89.116.111.88 "docker logs -f casskai-traefik"
ssh root@89.116.111.88 "docker logs -f casskai-proxy"

# V√©rifier que le build s'est bien pass√©
npm run type-check

# Rebuild propre si erreur
rm -rf dist node_modules/.vite
npm install
npm run build

=================================================================
APR√àS LE D√âPLOIEMENT
=================================================================

# Cr√©er un tag de version (optionnel)
git tag -a v2.0.0 -m "Design System v2.0 - Floating Cards Sidebar"
git push origin v2.0.0

# Documenter dans le changelog
echo "- feat: Nouveau design system avec Sidebar Floating Cards" >> CHANGELOG.md
git add CHANGELOG.md
git commit -m "docs: update changelog for v2.0.0"
git push

=================================================================
COMMANDES UTILES POST-D√âPLOIEMENT
=================================================================

# Voir les stats de build
npm run build -- --stats

# Analyser la taille des bundles
npx vite-bundle-visualizer

# Tester les performances
npm run lighthouse https://casskai.app

=================================================================
COMMANDES DE MONITORING
=================================================================

# V√©rifier que le site est accessible
curl -I https://casskai.app
curl -I http://127.0.0.1:8080

# Tester la vitesse de chargement
curl -o /dev/null -s -w 'Total: %{time_total}s\n' https://casskai.app

# V√©rifier les certificats SSL
openssl s_client -connect casskai.app:443 -servername casskai.app

=================================================================
COMMANDES D'OPTIMISATION (optionnel, pour plus tard)
=================================================================

# Compresser les assets
npm run build -- --minify

# G√©n√©rer le service worker
npm run build:sw

# Optimiser les images
npx @squoosh/cli --resize '{width:800}' public/**/*.{jpg,png}

=================================================================
‚úÖ CHECKLIST FINALE
=================================================================

‚ñ° Code push√© vers git
‚ñ° D√©ploy√© sur VPS
‚ñ° Site accessible sur https://casskai.app
‚ñ° Sidebar s'affiche correctement
‚ñ° Navigation fonctionne
‚ñ° Favoris fonctionnent
‚ñ° Recherche fonctionne
‚ñ° Responsive mobile OK
‚ñ° Mode sombre OK
‚ñ° Aucune erreur dans la console navigateur

=================================================================
üéâ SI TOUT EST OK, TU AS TERMIN√â!
=================================================================

Le nouveau design est maintenant en production!

Prochaines √©tapes (optionnel):
- Recueillir feedback utilisateurs
- Migrer pages vers PageTabs (voir GUIDE_DEPLOIEMENT_NOUVEAU_DESIGN.md)
- Ajouter raccourcis clavier avanc√©s

=================================================================
üìû BESOIN D'AIDE?
=================================================================

Consulter:
1. DEPLOIEMENT_RAPIDE.md - Checklist visuelle
2. GUIDE_DEPLOIEMENT_NOUVEAU_DESIGN.md - Guide complet
3. DESIGN_SYSTEM_EXAMPLE.md - Documentation technique

=================================================================
